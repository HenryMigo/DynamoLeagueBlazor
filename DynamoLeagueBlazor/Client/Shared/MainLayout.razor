@inherits LayoutComponentBase

<MudLayout>
    <MudAppBar Elevation=3>
        <a href="/" class="d-flex">
            <img src="logo.PNG" height="30"/>
            <MudText Typo="Typo.h5" Class="ml-3">Fantasy Football</MudText>
        </a>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => ToggleNavMenu())" />
    </MudAppBar>
    <NavMenu Show=_showNavMenu/>
    <MudMainContent>
        <MudContainer MaxWidth=MaxWidth.False Class="px-8 pt-8">
            <ErrorBoundary @ref=_errorBoundary>
                <ChildContent>
                    @Body
                </ChildContent>
                <ErrorContent>
                    <MudAlert Severity=Severity.Error>
                        An Error Occured...
                    </MudAlert>
                </ErrorContent>
            </ErrorBoundary>
        </MudContainer>
    </MudMainContent>
</MudLayout>

<MudThemeProvider Theme=darkTheme/>
<MudDialogProvider/>
<MudSnackbarProvider/>

@code {
    private MudTheme darkTheme = new MudTheme()
    {
        Palette = new Palette()
        {
            Black = "#27272f",
            Background = "#32333d",
            BackgroundGrey = "#27272f",
            Surface = "#373740",
            DrawerBackground = "#27272f",
            DrawerText = "rgba(255,255,255, 0.50)",
            DrawerIcon = "rgba(255,255,255, 0.50)",
            AppbarBackground = "#27272f",
            AppbarText = "rgba(255,255,255, 0.70)",
            TextPrimary = "rgba(255,255,255, 0.70)",
            TextSecondary = "rgba(255,255,255, 0.50)",
            ActionDefault = "#adadb1",
            ActionDisabled = "rgba(255,255,255, 0.26)",
            ActionDisabledBackground = "rgba(255,255,255, 0.12)",
            Divider = "rgba(255,255,255, 0.12)",
            DividerLight = "rgba(255,255,255, 0.06)",
            TableLines = "rgba(255,255,255, 0.12)",
            LinesDefault = "rgba(255,255,255, 0.12)",
            LinesInputs = "rgba(255,255,255, 0.3)",
            TextDisabled = "rgba(255,255,255, 0.2)"
        }
    };

    private ErrorBoundary? _errorBoundary;
    private bool _showNavMenu = true;

    protected override void OnParametersSet()
    {
        _errorBoundary?.Recover();
    }

    private void ToggleNavMenu()
    {
        _showNavMenu = !_showNavMenu;
    }
}
